<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
    <style>
        body{background-color: #efefef;}
      .content {
        padding: 50px;
        background: #fff;
        font-size: 19px;
        line-height: 1.5;
        min-height: 3000px;
      }
      .scroll-line{
        position: fixed;
        top: 0;
        left: 0;
        height: 10px;
        background: purple;
        transition: 0.75s cubic-bezier(0.075, 0.82, 0.165, 1) width;
      }
    </style>
    <title>Scrolling Progress Indicator</title>
  </head>
  <body>
    <div class="scroll-line"></div>

    <div class="container">
      <div class="content">
        Lorem ipsum dolor sit, amet consectetur adipisicing elit. Incidunt quos
        id reprehenderit sunt consequuntur nobis sit tempore quis odio quia
        repudiandae nam itaque aut quasi, suscipit est temporibus officia modi?
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Tempore eos
        excepturi molestias voluptas fuga magnam, exercitationem voluptatibus,
        corrupti et ipsum voluptates eaque eveniet quod. Error excepturi
        perferendis officiis sequi architecto dignissimos iure sed, nostrum
        veniam ducimus ea ipsa quasi quo dolor expedita. Optio, laudantium
        eaque!
      </div>
    </div>
    <script>
    const scroll=document.querySelector('.scroll-line')

    function fillScroll(){
        const wh=window.innerHeight
        const fullHeight=document.body.clientHeight
        const scrolled= window.scrollY
        const percScroll=((scrolled/(fullHeight-wh))*100)
        scroll.style.width= `${percScroll}%`


    }
    function debounce(func, timeout = 300){
  let timer;
  return (...args) => {
    clearTimeout(timer);
    timer = setTimeout(() => { func.apply(this, args); }, timeout);
  };
}

    window.addEventListener('scroll',fillScroll)
    window.addEventListener('scroll',debounce(fillScroll))
    </script>
  </body>
</html>
